version: 2.1

orbs:
  welcome: circleci/welcome-orb@0.4.1

jobs: 
  build_frontend:
    docker:
      - image: circleci/node:13.8.0
    steps:
      - checkout
      - working_directory: ./frontend
      - run: npm install
      - run: npm run build
      - persist_to_workspace:
          root: .
          paths:
            - frontend/node_modules

#  test:
#    docker:
#      - image: circleci/node:13.8.0
#    steps:
#      - checkout
#      - run: npm run test
#      - restore_cache:
#          key: "npm-packages"
    
workflows:
  welcome:
    jobs:
      - build_frontend
 #     - test:
 #         requires:
 #           - build 